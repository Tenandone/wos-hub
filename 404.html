<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Redirecting…</title>
  <meta name="robots" content="noindex" />
  <script>
    (function () {
      var l = window.location;

      // ===== base auto-detect (project page vs custom domain) =====
      // project page: https://tenandone.github.io/wos-hub/...
      // custom domain: https://wos.gg/...
      var path = l.pathname || "/";
      var base = "";

      // repo name 추정: 첫 세그먼트가 'wos-hub'면 project page로 간주
      // (원하면 여기 값을 바꿔도 됨)
      if (path === "/wos-hub" || path.indexOf("/wos-hub/") === 0) base = "/wos-hub";

      // ===== remove base from path => appPath =====
      var appPath = path;
      if (base && appPath.indexOf(base + "/") === 0) appPath = appPath.slice(base.length);
      if (base && appPath === base) appPath = "/";

      if (!appPath) appPath = "/";
      if (appPath.charAt(0) !== "/") appPath = "/" + appPath;

      var search = l.search || "";
      var hash = l.hash || "";

      // ===== redirect target (index will read ?p=...) =====
      var target = base + "/?p=" + encodeURIComponent(appPath)
                 + "&q=" + encodeURIComponent(search)
                 + "&h=" + encodeURIComponent(hash);

      l.replace(target);
    })();
  </script>
</head>
<body>Redirecting…</body>
</html>
