<!doctype html>
<html lang="en">
<head>
  <script>
(() => {
  // Restore path after GitHub Pages 404 redirect
  const redirect = sessionStorage.getItem("wos:redirect");
  if (redirect) {
    sessionStorage.removeItem("wos:redirect");
    history.replaceState({}, "", redirect);
  }
})();
</script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WOS HUB â€“ Whiteout Survival Tools & Data</title>

  <!-- SEO -->
  <meta name="description" content="WOS HUB provides Whiteout Survival tools, calculators, hero and building data, and practical guides for players." />
  <meta name="keywords" content="Whiteout Survival, WOS, Whiteout Survival calculator, hero data, building data, WOS tools, WOS guide" />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="WOS HUB â€“ Whiteout Survival Tools & Data" />
  <meta property="og:description" content="Tools, calculators, and data hub for Whiteout Survival players." />
  <meta property="og:site_name" content="WOS HUB" />

  <!-- âœ… GitHub Pages project base auto-fix (fix "/img/.." absolute paths) -->
  <script>
  (() => {
    // e.g. https://tenandone.github.io/wos-hub/  -> base="/wos-hub"
    const p = location.pathname || "/";
    const base = p.startsWith("/") ? (p.split("/")[1] ? "/" + p.split("/")[1] : "") : "";
    if (!base || base === "/") return;

    const fix = (v) => {
      if (typeof v !== "string") return v;
      if (v.startsWith("//")) return v;
      if (!v.startsWith("/")) return v;
      if (v.startsWith(base + "/")) return v;
      return base + v;
    };

    const origSet = Element.prototype.setAttribute;
    Element.prototype.setAttribute = function (name, value) {
      if (name === "src" || name === "href") value = fix(value);
      return origSet.call(this, name, value);
    };

    // Also patch direct property assignments: img.src = "/..."
    const patchProp = (proto, prop) => {
      const d = Object.getOwnPropertyDescriptor(proto, prop);
      if (!d || !d.set || !d.get) return;
      Object.defineProperty(proto, prop, {
        get: d.get,
        set(v) { return d.set.call(this, fix(v)); },
        configurable: true,
        enumerable: d.enumerable,
      });
    };

    patchProp(HTMLImageElement.prototype, "src");
    patchProp(HTMLScriptElement.prototype, "src");
    patchProp(HTMLLinkElement.prototype, "href");
    patchProp(HTMLAnchorElement.prototype, "href");

    window.WOS_BASE = base;
  })();
  </script>

  <!-- âœ… relative paths for GitHub Pages -->
  <link rel="stylesheet" href="./css/app.css" />
</head>

<body>
  <header class="wos-topbar">
    <div class="wos-topbar-inner">
      <button
        class="wos-iconbtn"
        id="menuBtn"
        type="button"
        aria-label="Open menu"
        aria-controls="drawer"
        aria-expanded="false"
        data-i18n-aria-label="aria.open_menu"
      >â˜°</button>

      <a class="wos-brand" href="/" data-i18n="brand.name">WosHub</a>

      <div class="wos-desktop-only wos-langbar">
        <button
          class="wos-iconbtn"
          type="button"
          data-lang="en"
          data-lang-link="en"
          title="English"
          aria-label="English"
          data-i18n-title="lang.english"
          data-i18n-aria-label="lang.english"
        >ðŸ‡ºðŸ‡¸</button>

        <button
          class="wos-iconbtn"
          type="button"
          data-lang="ko"
          data-lang-link="ko"
          title="Korean"
          aria-label="Korean"
          data-i18n-title="lang.korean"
          data-i18n-aria-label="lang.korean"
        >ðŸ‡°ðŸ‡·</button>

        <button
          class="wos-iconbtn"
          type="button"
          data-lang="ja"
          data-lang-link="ja"
          title="Japanese"
          aria-label="Japanese"
          data-i18n-title="lang.japanese"
          data-i18n-aria-label="lang.japanese"
        >ðŸ‡¯ðŸ‡µ</button>
      </div>
    </div>
  </header>

  <div class="wos-drawer-backdrop" id="drawerBackdrop" hidden></div>

  <nav
    class="wos-drawer"
    id="drawer"
    aria-label="Site menu"
    aria-hidden="true"
    data-i18n-aria-label="aria.site_menu"
  >
    <div class="wos-drawer-head">
      <div class="wos-drawer-title" data-i18n="nav.menu">Menu</div>
      <button
        class="wos-iconbtn"
        id="drawerClose"
        type="button"
        aria-label="Close menu"
        data-i18n-aria-label="aria.close_menu"
      >âœ•</button>
    </div>

    <div class="wos-drawer-lang">
      <button class="wos-drawer-link" type="button" data-lang="en" data-lang-link="en">ðŸ‡ºðŸ‡¸ EN</button>
      <button class="wos-drawer-link" type="button" data-lang="ko" data-lang-link="ko">ðŸ‡°ðŸ‡· KO</button>
      <button class="wos-drawer-link" type="button" data-lang="ja" data-lang-link="ja">ðŸ‡¯ðŸ‡µ JA</button>
    </div>

    <a class="wos-drawer-link" data-nav href="/" data-i18n="nav.home">Home</a>
    <a class="wos-drawer-link" data-nav href="/buildings" data-i18n="nav.buildings">Buildings</a>
    <a class="wos-drawer-link" data-nav href="/heroes" data-i18n="nav.heroes">Heroes</a>
    <a class="wos-drawer-link" data-nav href="/coupons" data-i18n="nav.coupons">Coupons</a>
    <a class="wos-drawer-link" data-nav href="/tools/building-calculator" data-i18n="nav.calculator">Calculator</a>
    <a class="wos-drawer-link" data-nav href="/tips" data-i18n="nav.tips">Tips</a>
  </nav>

  <main id="app" class="wos-app"></main>

  <footer class="site-footer">
    <div class="site-footer-inner">
      <a href="./about.html" data-i18n="footer.about">About</a>
    </div>
  </footer>

  <!-- âœ… relative scripts -->
  <script defer src="./js/i18n.js"></script>
  <script defer src="./js/buildings.js"></script>
  <script defer src="./js/heroes.js"></script>
  <script defer src="./js/calculator.js"></script>
  <script defer src="./js/building-calculator.js"></script>
  <script defer src="./js/tips.js"></script>
  <script defer src="./js/coupons.js"></script>
  <script defer src="./js/app.js"></script>
</body>
</html>
